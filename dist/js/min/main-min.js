!function($){var n=$(window),t=n.width(),a=n.height(),i=function(){var n,t=document.createElement("fakeelement"),a={WebkitTransition:"webkitAnimationEnd",OTransition:"oAnimationEnd",MozTransition:"animationend",transition:"animationend"};for(n in a)if(void 0!==t.style[n])return a[n]}(),e=function(){var n,t=document.createElement("fakeelement"),a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend"};for(n in a)if(void 0!==t.style[n])return a[n]}(),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,17)},s=function(){var n=$("body"),t=$(".main-navigation");return{fixBody:function(){n.addClass("fixed")},unfixBody:function(){n.removeClass("fixed")},resize:function(){this.unfixBody()}.bind(this)}}(),l=function(){var n=$("#to-top"),t=!1,a=900,i=!1,e={up:function(){i=!0,t=!0,$("html, body").stop().animate({scrollTop:0},a,"swing",function(){i=!1}).one("touchstart mousewheel DOMMouseScroll wheel",function(){$(this).stop(!1,!1).off("touchstart mousewheel DOMMouseScroll wheel"),i=!1}),e.hide()},show:function(){t||i||(n.addClass("opened"),t=!0)},hide:function(){t&&(n.removeClass("opened"),t=!1)},$el:n};return n.on("click",function(){e.up()}),e}();$(".sections-pagination").find(".pagination-link").on("click",function(n){n.preventDefault(),$(this).addClass("pagination-active").siblings().removeClass("pagination-active");var t=$($(this).attr("href"));t.length&&$("html, body").stop().animate({scrollTop:t.offset().top},600)});var r=function(){var a;return $("[data-modal]").on("click",function(n){n.preventDefault();var t=$(this),a=t.attr("data-modal"),i=$(a);t.hasClass("active")||(i.length?r.openModal(i):(console.warn("Ошибка в элементе:"),console.log(this),console.warn("Не найдены элементы с селектором "+a)))}),$("[data-close]").on("click",function(n){n.preventDefault();var t=$(this),a=t.attr("data-close"),i;a?(i=$(a),i.length&&r.closeModal(i)):r.closeModal(t.closest(".opened"))}),$(".modal-holder").not(".fake").on("click",function(n){n.target===this&&t>1e3&&r.closeModal($(this))}),n.on("keyup",function(n){"27"==n.keyCode&&r.closeModal()}),a={opened:[],openModal:function(n){!n.data("modal-ununique")&&this.opened.length>0&&r.closeModal(this.opened[this.opened.length-1],!0),this.opened.push(n),n.off(e).addClass("opened"),s.fixBody(),this.$cross=$("<div>").addClass("cross-top-fixed animated "+n.attr("data-cross")).one("click",function(){r.closeModal()}).one(i,function(){$(this).removeClass("animated")}).appendTo("body")},closeModal:function(n,t){if(0!==this.opened.length||n)if(this.opened.length>0&&!n)for(var a=0;a<this.opened.length;a++)this.closeModal(this.opened[a]);else{if(!n||n instanceof jQuery){if(void 0===n)throw"something went wrong"}else n=$(n);try{n.removeClass("opened"),"main-video-modal"===n.attr("id")&&getleaf.video&&getleaf.video.pauseVideo()}catch(o){return console.error(o),void this.closeModal()}if(this.opened.pop(),t)this.$cross.remove();else{n.one(e,s.unfixBody);try{this.$cross.addClass("fadeOut").one(i,function(){$(this).remove()})}catch(o){console.error(o)}}}}}}();$.fn.doubleSlider=function(n){n||(n={}),n=$.extend({transitionSpeed:1e3,transitionClass:"transiting",animationInClass:"fadeIn",animationOutClass:"fadeOut",paginationHolderClass:"pagination",nextSlideClass:"next-slide",prevSlideClass:"prev-slide",pageSlideClass:"slide-page",nextSlideHtml:">",prevSlideHtml:"<",pageSlideHtml:!1,slideClass:"slide",activeClass:"active",hiddenClass:"hidden",startSlide:0,pagination:!0},n);var t=function(){var t,a,i,e,o,s,l,r,d;return t=$(this),e={},a=[],o={defineSlides:function(){var a,i=!0;for(l=0;i;)a=t.find('[data-id="'+l+'"]'),a.length?(a.addClass(n.slideClass),o.pushSlide(a,l),l++):i=!1},pushSlide:function(n,t){var i={$el:n,id:t};a.push(i)},bindEvents:function(){t.off().on("click",function(t){var a=$(t.target),i;a.hasClass(n.pageSlideClass)?(i=parseInt(a.attr("data-page")),s.toSlide(i)):a.hasClass(n.prevSlideClass)?s.prevSlide():a.hasClass(n.nextSlideClass)&&s.nextSlide()})},createPagination:function(){var a;e.$pagination?(e.$pagination.empty(),e.$pagination.detach()):e.$pagination=$("<div>").addClass(n.paginationHolderClass),$("<span>").addClass(n.prevSlideClass).html(n.prevSlideHtml).appendTo(e.$pagination),a=$("<ul>").addClass(n.lablesHolderClass).appendTo(e.$pagination);for(var i=0;l>i;i++)$("<li>").addClass(n.pageSlideClass).html(n.pageSlideHtml?n.pageSlideHtml:i+1).attr("data-page",i).appendTo(a);$("<span>").addClass(n.nextSlideClass).html(n.nextSlideHtml).appendTo(e.$pagination),e.$pagination.appendTo(t)},getTransitionDuration:function(n){return n.css("transition-duration")?Math.round(1e3*parseFloat(n.css("transition-duration"))):n.css("-webkit-transtion-duration")?Math.round(1e3*parseFloat(n.css("-webkit-transtion-duration"))):n.css("-moz-transtion-duration")?Math.round(1e3*parseFloat(n.css("-moz-transtion-duration"))):n.css("-ms-transtion-duration")?Math.round(1e3*parseFloat(n.css("-ms-transtion-duration"))):n.css("-o-transtion-duration")?Math.round(1e3*parseFloat(n.css("-ms-transtion-duration"))):0},getTransitionDelay:function(n){return n.css("transition-delay")?Math.round(1e3*parseFloat(n.css("transition-delay"))):n.css("-webkit-transtion-delay")?Math.round(1e3*parseFloat(n.css("-webkit-transtion-delay"))):n.css("-moz-transtion-delay")?Math.round(1e3*parseFloat(n.css("-moz-transtion-delay"))):n.css("-ms-transtion-delay")?Math.round(1e3*parseFloat(n.css("-ms-transtion-delay"))):n.css("-o-transtion-delay")?Math.round(1e3*parseFloat(n.css("-ms-transtion-delay"))):0},getAnimationDuration:function(n){return n.css("animation-duration")?Math.round(1e3*parseFloat(n.css("animation-duration"))):n.css("-webkit-animation-duration")?Math.round(1e3*parseFloat(n.css("-webkit-animation-duration"))):n.css("-moz-animation-duration")?Math.round(1e3*parseFloat(n.css("-moz-animation-duration"))):n.css("-ms-animation-duration")?Math.round(1e3*parseFloat(n.css("-ms-animation-duration"))):n.css("-o-animation-duration")?Math.round(1e3*parseFloat(n.css("-ms-animation-duration"))):0},getAnimationDelay:function(n){return n.css("animation-delay")?Math.round(1e3*parseFloat(n.css("animation-delay"))):n.css("-webkit-animation-delay")?Math.round(1e3*parseFloat(n.css("-webkit-animation-delay"))):n.css("-moz-animation-delay")?Math.round(1e3*parseFloat(n.css("-moz-animation-delay"))):n.css("-ms-animation-delay")?Math.round(1e3*parseFloat(n.css("-ms-animation-delay"))):n.css("-o-animation-delay")?Math.round(1e3*parseFloat(n.css("-ms-animation-delay"))):0},getAnimationTime:function(n){var t,a;return t=o.getAnimationDuration(n),a=o.getAnimationDelay(n),a+t},filterSlides:function(n){var t=0,i=!1,e=[];for(t;t<a.length;t++)if(a[t].id===n)e.push(a[t].$el),i=!0;else if(i)break;return e},activeSlides:function(t){if("number"==typeof t){var a,i=o.filterSlides(t);for(a=0;a<i.length;a++)i[a].addClass(n.activeClass).addClass(n.animationInClass),setTimeout(function(t){return function(){t.removeClass(n.animationInClass),d=!1}}(i[a]),o.getAnimationTime(i[a]))}},deactiveSlides:function(t){if("number"==typeof t){var a,i=o.filterSlides(t);for(a=0;a<i.length;a++)i[a].addClass(n.animationOutClass),setTimeout(function(t){return function(){t.removeClass(n.activeClass).removeClass(n.animationOutClass)}}(i[a]),o.getAnimationTime(i[a]))}}},s={init:function(){o.defineSlides(),n.pagination&&o.createPagination(),o.bindEvents(),s.toSlide(n.startSlide)},toSlide:function(a){d||"number"!=typeof a||0>a||a>l||a!==i&&(d=!0,t.addClass(n.transitionClass),o.deactiveSlides(i),o.activeSlides(a),i=a)},prevSlide:function(){var n=i-1;0>n||s.toSlide(n)},nextSlide:function(){var n=i+1;n>=l||s.toSlide(n)}},s.init(),s};return this.length>1?this.map(t):1===this.length?t.call(this[0]):void 0},$.fn.landingNavigation=function(n){var t;this.each(function(a){var i={},e={},o=[],s=$(this),l=$(".to-top-link");n||(n={linkClass:"pagination-link"}),n=$.extend({},n);var r={init:function(){i.$lnks=s.find("."+n.linkClass),r.resize()},scroll:function(n){for(var t=0;t<o.length;t++){if(n<o[t].val&&t)return void r.avtive(o[t-1].$elem);t==o.length-1&&r.avtive(o[t].$elem)}},avtive:function(n){n!==e.$active&&(i.$lnks.removeClass("pagination-active"),n.addClass("pagination-active"),e.$active=n),n!==o[0].$elem&&l.addClass("arrow-visible"),n==o[0].$elem&&l.removeClass("arrow-visible")},resize:function(){t=$(window).height()/2,i.$lnks.each(function(n,t){o[n]={},o[n].$elem=$(t),o[n].trg=$(t).attr("href")||$(t).data("target"),o[n].val=$(o[n].trg).offset().top})}};return r.init(),$(window).on("scroll",function(){setTimeout(function(){r.scroll($(this).scrollTop()+t)},500)}).on("resize load",function(){r.resize()}),r})}}(jQuery),$(".double-slider").doubleSlider(),$(".sections-pagination").landingNavigation();