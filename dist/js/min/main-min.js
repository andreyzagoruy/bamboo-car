!function($){var t=$(window),n=!1,i=t.width(),e=t.height(),a=function(){var t,n=document.createElement("fakeelement"),i={WebkitTransition:"webkitAnimationEnd",OTransition:"oAnimationEnd",MozTransition:"animationend",transition:"animationend"};for(t in i)if(void 0!==n.style[t])return i[t]}(),o=function(){var t,n=document.createElement("fakeelement"),i={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend"};for(t in i)if(void 0!==n.style[t])return i[t]}(),s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,17)},l=function(){var t=$("body"),n,i=$(".main-navigation");return{fixBody:function(){this.getScrollWidth(),n=t.scrollTop(),t.addClass("fixed").css({top:-1*n})},getScrollWidth:function(){if("number"==typeof this.scrollWidth)return this.scrollWidth;var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var e=t.offsetWidth;return i==e&&(e=n.clientWidth),document.body.removeChild(n),this.scrollWidth=i-e,this.generateClassStyles(this.scrollWidth),this.scrollWidth},generateClassStyles:function(n){var i,e=$("<style>");i="body.fixed, body.fixed .header-top {right:"+n+"px;}",e.html(i),e.appendTo(t)},unfixBody:function(){t.removeClass("fixed").scrollTop(n)},resize:function(){this.unfixBody()}.bind(this)}}(),d=function(){var t=$("#to-top"),n=!1,i=900,e=!1,a={up:function(){e=!0,n=!0,$("html, body").stop().animate({scrollTop:0},i,"swing",function(){e=!1}).one("touchstart mousewheel DOMMouseScroll wheel",function(){$(this).stop(!1,!1).off("touchstart mousewheel DOMMouseScroll wheel"),e=!1}),a.hide()},show:function(){n||e||(t.addClass("opened"),n=!0)},hide:function(){n&&(t.removeClass("opened"),n=!1)},$el:t};return t.on("click",function(){a.up()}),a}();$(".sections-pagination").find(".pagination-link").on("click",function(t){t.preventDefault(),$(this).addClass("pagination-active").siblings().removeClass("pagination-active");var n=$($(this).attr("href"));n.length&&$("html, body").stop().animate({scrollTop:n.offset().top},600)});var r=function(){var i;return $("[data-modal]").on("click",function(t){t.preventDefault(),n=!0;var i=$(this),e=i.attr("data-modal"),a=$(e);i.hasClass("active")||(a.length?r.openModal(a):(console.warn("Ошибка в элементе:"),console.log(this),console.warn("Не найдены элементы с селектором "+e)))}),$("[data-close]").on("click",function(t){t.preventDefault(),n=!1;var i=$(this),e=i.attr("data-close"),a;e?(a=$(e),a.length&&r.closeModal(a)):r.closeModal(i.closest(".opened"))}),$(".modal-holder").on("click",function(t){t.target===this&&(n=!1,r.closeModal($(this)))}),t.on("keyup",function(t){"27"==t.keyCode&&r.closeModal()}),i={opened:[],openModal:function(t){!t.data("modal-ununique")&&this.opened.length>0&&r.closeModal(this.opened[this.opened.length-1],!0),this.opened.push(t),t.off(o).addClass("opened"),l.fixBody(),this.$cross=$("<div>").addClass("cross-top-fixed animated "+t.attr("data-cross")).one("click",function(){r.closeModal()}).one(a,function(){$(this).removeClass("animated")}).appendTo("body")},closeModal:function(t,n){if(0!==this.opened.length||t)if(this.opened.length>0&&!t)for(var i=0;i<this.opened.length;i++)this.closeModal(this.opened[i]);else{if(!t||t instanceof jQuery){if(void 0===t)throw"something went wrong"}else t=$(t);try{t.removeClass("opened"),"main-video-modal"===t.attr("id")&&getleaf.video&&getleaf.video.pauseVideo()}catch(e){return console.error(e),void this.closeModal()}if(this.opened.pop(),n)this.$cross.remove();else{t.one(o,l.unfixBody);try{this.$cross.addClass("fadeOut").one(a,function(){$(this).remove()})}catch(e){console.error(e)}}}}}}();$.fn.doubleSlider=function(t){t||(t={}),t=$.extend({transitionSpeed:1e3,transitionClass:"transiting",animationInClass:"fadeIn",animationOutClass:"fadeOut",paginationHolderClass:"pagination",nextSlideClass:"next-slide",prevSlideClass:"prev-slide",pageSlideClass:"slide-page",nextSlideHtml:">",prevSlideHtml:"<",pageSlideHtml:!1,slideClass:"slide",activeClass:"active",hiddenClass:"hidden",startSlide:0,pagination:!0},t);var n=function(){var n,i,e,a,o,s,l,d,r;return n=$(this),a={},i=[],o={defineSlides:function(){var i,e=!0;for(l=0;e;)i=n.find('[data-id="'+l+'"]'),i.length?(i.addClass(t.slideClass),o.pushSlide(i,l),l++):e=!1},pushSlide:function(t,n){var e={$el:t,id:n};i.push(e)},bindEvents:function(){n.off().on("click",function(n){var i=$(n.target),e;i.hasClass(t.pageSlideClass)?(e=parseInt(i.attr("data-page")),s.toSlide(e)):i.hasClass(t.prevSlideClass)?s.prevSlide():i.hasClass(t.nextSlideClass)&&s.nextSlide()})},createPagination:function(){var i;a.$pagination?(a.$pagination.empty(),a.$pagination.detach()):a.$pagination=$("<div>").addClass(t.paginationHolderClass),$("<span>").addClass(t.prevSlideClass).html(t.prevSlideHtml).appendTo(a.$pagination),i=$("<ul>").addClass(t.lablesHolderClass).appendTo(a.$pagination);for(var e=0;l>e;e++)$("<li>").addClass(t.pageSlideClass).html(t.pageSlideHtml?t.pageSlideHtml:e+1).attr("data-page",e).appendTo(i);$("<span>").addClass(t.nextSlideClass).html(t.nextSlideHtml).appendTo(a.$pagination),a.$pagination.appendTo(n)},getTransitionDuration:function(t){return t.css("transition-duration")?Math.round(1e3*parseFloat(t.css("transition-duration"))):t.css("-webkit-transtion-duration")?Math.round(1e3*parseFloat(t.css("-webkit-transtion-duration"))):t.css("-moz-transtion-duration")?Math.round(1e3*parseFloat(t.css("-moz-transtion-duration"))):t.css("-ms-transtion-duration")?Math.round(1e3*parseFloat(t.css("-ms-transtion-duration"))):t.css("-o-transtion-duration")?Math.round(1e3*parseFloat(t.css("-ms-transtion-duration"))):0},getTransitionDelay:function(t){return t.css("transition-delay")?Math.round(1e3*parseFloat(t.css("transition-delay"))):t.css("-webkit-transtion-delay")?Math.round(1e3*parseFloat(t.css("-webkit-transtion-delay"))):t.css("-moz-transtion-delay")?Math.round(1e3*parseFloat(t.css("-moz-transtion-delay"))):t.css("-ms-transtion-delay")?Math.round(1e3*parseFloat(t.css("-ms-transtion-delay"))):t.css("-o-transtion-delay")?Math.round(1e3*parseFloat(t.css("-ms-transtion-delay"))):0},getAnimationDuration:function(t){return t.css("animation-duration")?Math.round(1e3*parseFloat(t.css("animation-duration"))):t.css("-webkit-animation-duration")?Math.round(1e3*parseFloat(t.css("-webkit-animation-duration"))):t.css("-moz-animation-duration")?Math.round(1e3*parseFloat(t.css("-moz-animation-duration"))):t.css("-ms-animation-duration")?Math.round(1e3*parseFloat(t.css("-ms-animation-duration"))):t.css("-o-animation-duration")?Math.round(1e3*parseFloat(t.css("-ms-animation-duration"))):0},getAnimationDelay:function(t){return t.css("animation-delay")?Math.round(1e3*parseFloat(t.css("animation-delay"))):t.css("-webkit-animation-delay")?Math.round(1e3*parseFloat(t.css("-webkit-animation-delay"))):t.css("-moz-animation-delay")?Math.round(1e3*parseFloat(t.css("-moz-animation-delay"))):t.css("-ms-animation-delay")?Math.round(1e3*parseFloat(t.css("-ms-animation-delay"))):t.css("-o-animation-delay")?Math.round(1e3*parseFloat(t.css("-ms-animation-delay"))):0},getAnimationTime:function(t){var n,i;return n=o.getAnimationDuration(t),i=o.getAnimationDelay(t),i+n},filterSlides:function(t){var n=0,e=!1,a=[];for(n;n<i.length;n++)if(i[n].id===t)a.push(i[n].$el),e=!0;else if(e)break;return a},activeSlides:function(n){if("number"==typeof n){var i,e=o.filterSlides(n);for(i=0;i<e.length;i++)e[i].addClass(t.activeClass).addClass(t.animationInClass),setTimeout(function(n){return function(){n.removeClass(t.animationInClass),r=!1}}(e[i]),o.getAnimationTime(e[i]))}},deactiveSlides:function(n){if("number"==typeof n){var i,e=o.filterSlides(n);for(i=0;i<e.length;i++)e[i].addClass(t.animationOutClass),setTimeout(function(n){return function(){n.removeClass(t.activeClass).removeClass(t.animationOutClass)}}(e[i]),o.getAnimationTime(e[i]))}}},s={init:function(){o.defineSlides(),t.pagination&&o.createPagination(),o.bindEvents(),s.toSlide(t.startSlide)},toSlide:function(i){r||"number"!=typeof i||0>i||i>l||i!==e&&(r=!0,n.addClass(t.transitionClass),o.deactiveSlides(e),o.activeSlides(i),e=i)},prevSlide:function(){var t=e-1;0>t||s.toSlide(t)},nextSlide:function(){var t=e+1;t>=l||s.toSlide(t)}},s.init(),s};return this.length>1?this.map(n):1===this.length?n.call(this[0]):void 0},$.fn.landingNavigation=function(t){var i;this.each(function(e){var a={},o={},s=[],l=$(this),d=$(".to-top-link");t||(t={linkClass:"pagination-link"}),t=$.extend({},t);var r={init:function(){a.$lnks=l.find("."+t.linkClass),r.resize()},scroll:function(t){if(!n)for(var i=0;i<s.length;i++){if(t<s[i].val&&i)return void r.avtive(s[i-1].$elem);i==s.length-1&&r.avtive(s[i].$elem)}},avtive:function(t){t!==o.$active&&(a.$lnks.removeClass("pagination-active"),t.addClass("pagination-active"),o.$active=t),t!==s[0].$elem&&d.addClass("arrow-visible"),t==s[0].$elem&&d.removeClass("arrow-visible")},resize:function(){i=$(window).height()/2,a.$lnks.each(function(t,n){s[t]={},s[t].$elem=$(n),s[t].trg=$(n).attr("href")||$(n).data("target"),s[t].val=$(s[t].trg).offset().top})}};return r.init(),$(window).on("scroll",function(){setTimeout(function(){r.scroll($(this).scrollTop()+i)},500)}).on("resize load",function(){r.resize()}),r})}}(jQuery),$(".double-slider").doubleSlider(),$(".sections-pagination").landingNavigation();